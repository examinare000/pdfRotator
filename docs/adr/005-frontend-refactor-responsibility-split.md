# ADR-005: フロントの責務分離リファクタ

## ステータス
採用済み（2025-12-23）

## 背景
- `App` に UI 操作・PDF処理・OCR制御・仮想スクロールなど複数の責務が集中して可読性が低下していた。
- if-else のネストを避けるルールに合わせ、分岐の整理とガード節中心の実装へ寄せる必要がある。

## 決定
- 共有可能な純粋ロジックを `lib/` に移し、個別にテストする。
- UI 依存の処理は最小限に留め、`App` は組み立てと状態の配線に集中させる。

## 根拠
- 純粋ロジックの単体テストが容易になり、変更時の影響範囲を限定できる。
- `App` の責務を薄くすることで、読みやすさと保守性が向上する。

## トレードオフ
- ファイル数が増えるため、初見では追跡コストが上がる。

## 影響範囲
- フロントエンド: `App` からユーティリティへの移動、関連テストの追加。
